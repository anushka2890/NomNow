<div class="checkout-modal-container">
  <h2>Confirm Your Order</h2>

  <form (ngSubmit)="onConfirm()" *ngIf="!isLoading">
    <div class="form-group">
      <label>Delivery Address</label>
      <div *ngIf="!editMode; else editInput" class="address-display">
        {{ address }}
        <button class="edit-btn" (click)="editAddress()">Edit</button>
      </div>

      <ng-template #editInput>
        <input [(ngModel)]="address" placeholder="Enter new address" />
      </ng-template>
    </div>

    <div class="summary">
      <p><strong>Total Items:</strong> {{ cartItems.length }}</p>
      <p><strong>Total Price:</strong> â‚¹{{ totalPrice }}</p>
    </div>

    <div class="buttons">
      <button type="submit" class="confirm-btn">Place Order</button>
      <button type="button" class="cancel-btn" (click)="onClose()">Cancel</button>
    </div>

    <p class="error" *ngIf="errorMessage">{{ errorMessage }}</p>
    <p class="success" *ngIf="successMessage">{{ successMessage }}</p>
  </form>

  <div *ngIf="isLoading" class="loading-indicator">
    <p>Placing your order...</p>
    <mat-progress-spinner diameter="30" mode="indeterminate"></mat-progress-spinner>
  </div>
</div>
